# CLAUDE.md

This file provides guidance to Claude Code (claude.ai/code) when working with code in this repository.

## Project Overview

This is a React-based web application for parsing and analyzing Pylontech battery system history files generated by BatteryView software (BatteryView_3.0.28). These files follow the naming pattern `H[serial]_history_[timestamp].txt` (e.g., `H221014C32212448_history_20250819152808.txt`). The application provides a drag-and-drop interface to upload these history files and displays battery system information, statistics, alerts, and historical data with configurable thresholds for temperature and voltage monitoring.

## Development Commands

- `npm start` - Start development server on localhost:3000
- `npm test` - Run tests in interactive watch mode
- `npm run build` - Create production build in `build/` folder
- `npm run eject` - Eject from Create React App (one-way operation)

## Architecture

### Core Components

- **App.js** (`src/App.js`) - Single-page application containing all functionality:
  - File parsing logic for Pylontech log format
  - Alert generation system with configurable thresholds
  - Four main sections: System Info, Statistics, Alerts, and History
  - Real-time threshold adjustment with alert recalculation

### Key Features

- **File Parser** - Processes text files with sections: `info`, `stat`, and `data history`/`datalist history`
- **Alert System** - Monitors temperature (Â°C) and voltage (V) thresholds with warning/critical levels
- **Data Filtering** - Show all data, alerts only, or normal readings only
- **Responsive UI** - Tab-based interface with drag-and-drop file upload

### Data Structure

The parsed data follows this structure:
```javascript
{
  info: {},        // System information key-value pairs
  stats: {},       // Battery statistics (Charge Cnt., SOH, etc.)
  history: [],     // Time-series data with voltage, current, temperature
  alerts: []       // Generated alerts based on thresholds
}
```

### Styling

- Uses CSS modules (`App.css`) with custom styling
- Includes Tailwind CSS (v4.1.11) for additional utilities
- Color-coded alerts: red (critical), orange (warning), green (normal)

## Dependencies

- **React 19.1.0** - Main framework
- **lucide-react** - Icon library for UI elements
- **@testing-library/** - Testing utilities (DOM, React, user events)
- **Tailwind CSS** - Utility-first CSS framework

## File Format Support

The parser processes Pylontech battery history files generated by BatteryView software:
- **File naming**: `H[serial]_history_[timestamp].txt` format
- **Source software**: BatteryView_3.0.28 (Pylontech battery monitoring software)
- **File structure**: Text files with sections marked by keywords (`info`, `stat`, `data history`/`datalist history`)
- **Data format**: Historical data with space-separated values including voltage, current, temperature, and battery states
- **Interface language**: French language interface for battery monitoring terminology

The purpose is to make these technical battery history files more readable and accessible through a web interface with visual alerts and data filtering.